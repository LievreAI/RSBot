<Window xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" Width="450" Height="450" d:DesignWidth="450" d:DesignHeight="450"
             x:Class="RSBot.Views.Controls.ScriptRecorder"
		     xmlns:vm="using:RSBot.ViewModels"
		     x:DataType="vm:ScriptRecorderViewModel"
			Title="Script Recorder"
			WindowStartupLocation="CenterOwner"
			Background="rgba(255, 255, 255, 0.07)"
			ExtendClientAreaChromeHints="NoChrome"
			ExtendClientAreaToDecorationsHint="True">

	<Design.DataContext>
		<vm:ScriptRecorderViewModel/>
	</Design.DataContext>

	<Border Background="rgba(255, 255, 255, 0.07)"
            BorderBrush="rgba(255, 255, 255, 0.1)"
            BorderThickness="1"
            CornerRadius="4"
            Padding="10">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="10">
				<Button Content="Record"
                        Command="{Binding RecordCommand}"
                        IsEnabled="{Binding !IsRecording}"/>
				<Button Content="Stop"
                        Command="{Binding StopCommand}"
                        IsEnabled="{Binding IsRecording}"/>
				<Button Content="Save"
                        Command="{Binding SaveCommand}"
                        IsEnabled="{Binding HasRecordedActions}"/>
				<Button Content="Clear"
                        Command="{Binding ClearCommand}"
                        IsEnabled="{Binding HasRecordedActions}"/>
			</StackPanel>

			<ListBox Grid.Row="1"
                     Margin="0 10"
                     ItemsSource="{Binding RecordedActions}"
                     SelectedItem="{Binding SelectedAction}">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Description}"/>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>

			<StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="10">
				<Button Content="Move Up"
                        Command="{Binding MoveUpCommand}"
                        IsEnabled="{Binding CanMoveUp}"/>
				<Button Content="Move Down"
                        Command="{Binding MoveDownCommand}"
                        IsEnabled="{Binding CanMoveDown}"/>
				<Button Content="Delete"
                        Command="{Binding DeleteCommand}"
                        IsEnabled="{Binding CanDelete}"/>
			</StackPanel>
		</Grid>
	</Border>
</Window>
